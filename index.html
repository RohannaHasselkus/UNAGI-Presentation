<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gene Networks Presentation</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Menu Toggle Button -->
<button id="menu-toggle">&#9776;</button>

<nav id="side-menu">
  <ul>
    <li><a href="#slide0" data-slide="0">Introduction (theory)</a></li>
    <li><a href="#slide1" data-slide="1">Example GRNs</a></li>
    <li><a href="#slide2" data-slide="2">Why Study GRNs</a></li>
    <li><a href="#slide3" data-slide="3">Bipartite and Unipartite</a></li>
    <li><a href="#slide4" data-slide="4">Background : BLOBFISH</a></li>
    <li><a href="#slide5" data-slide="5">Introducing : UNAGI</a></li>
    <li><a href="#slide6" data-slide="6">Theorem 1</a></li>
    <li><a href="#slide7" data-slide="7">Theorem 2</a></li>
    <li><a href="#slide8" data-slide="8">Validation</a></li>
    <li><a href="#slide9" data-slide="9">Genes of Interest</a></li>
    <li><a href="#slide10" data-slide="10">Overview of Tissues</a></li>
    <li><a href="#slide11" data-slide="11">Results</a></li>
    <li><a href="#slide12" data-slide="12">Interpretation</a></li>
    <li><a href="#slide13" data-slide="13">Applications and Continued work</a></li>
    <li><a href="#slide14" data-slide="14">Acknowledgments</a></li>
    <li><a href="#slide15" data-slide="15">Works Cited</a></li>
  </ul>
</nav>

<canvas id="network"></canvas>

<!-- ----------------------
  SLIDES
-------------------------->

<!-- Introduction (theory) -->
<div class="slide active" id="slide0">
  <h1>An Introduction to Gene Regulatory Networks</h1>
  <ul>
    <li><p>A GRN is a map of how genes control the activity of eachother.</p></li>
    <li> <p> Genes code for proteins such as transcription that repress or turn off other genes. </p></li>
    <li><p>These interactions work on a larger scale to affect cell behavior</p></li>
  </ul>
  
  <img src="">
  <div class="controls">
    <button style="background:white;" id="#">Prev</button>
    <button id="next0">Next</button>
  </div>
</div>

<script>
  document.getElementById("wiki-btn").addEventListener("click", () => {
    window.open(
      "https://rohannahasselkus.github.io/GRN-Model/",
      "_blank",
      "noopener,noreferrer"
    );
  });
</script>

<!-- Example GRNs -->
<div class="slide" id="slide1">
  <h1>Example Gene Regulatory Networks</h1>
  <ul>
     <b>Bistable Toggle Switch:</b> Two genes, A and B mutually inhibit each other. This creates bistability where the system is stable with only one of the genes on.
        <br><br>
        Gardner TS, Cantor CR, Collins JJ. Construction of a genetic toggle switch in Escherichia coli. Nature. 2000 Jan 20;403(6767):339-42. doi: 10.1038/35002131. PMID: 10659857. 

      <br><br>
      <b>Repressilator:</b> 
        Gene A represses Gene B, Gene B represses Gene C and Gene C represses gene A. The delayed repression and feedback create oscillatory dynamics in gene expression. This means that the gene levels rise and fall in cycles.
        <br><br> 
        Elowitz MB, Leibler S. A synthetic oscillatory network of transcriptional regulators. Nature. 2000 Jan 20;403(6767):335-8. doi: 10.1038/35002125. PMID: 10659856.

      <br><br>
      <b>Signaling Cascade:</b> 
      A activates B, B activates C and C activates A. A small initial input produces a large output in gene expression downstream.
        <br><br>
         Morrison DK. MAP kinase pathways. Cold Spring Harb Perspect Biol. 2012 Nov 1;4(11):a011254. doi: 10.1101/cshperspect.a011254. PMID: 23125017; PMCID: PMC3536342
  </ul>
  
  <img src="">
  <div class="controls">
    <button id="prev1">Prev</button>
    <button id="wiki-btn" onclick="window.open('https://rohannahasselkus.github.io/GRN-Model/')" style="background: #none;">GRN Model</button>
    <button id="next1">Next</button>
  </div>
</div>

<!-- Why study GRNs -->
<div class="slide" id="slide2">
  <h1>The importance of Gene Regulatory Networks</h1>
  <p>...</p>
  <div class="controls">
    <button id="prev2">Prev</button>
    <button id="next2">Next</button>
  </div>
</div>

<!-- Unipartite and Bipartite -->
<div class="slide" id="slide3">
  <h1>Unipartite and Bipartite Networks</h1>
  <p> .... </p>
  <div class="controls">
    <button id="prev3">Prev</button>
    <button id="next3">Next</button>
  </div>
</div>

<!-- Blobfish -->
<div class="slide" id="slide4">
  <h1>Background: BLOBFISH</h1>
  <p> Bipartite Limited Subnetworks from Multiple Observations using Breadth-First Search with Constrained Hops</p>
  <ul>
    <li>Objective: Find compact subnetwork connecting the members of a pre-specified set of genes</li>
    <li>Breadth-first search (Greedy algorithm)  to go from a 'seed' set of nodes and create compact subnetwork</li>
    <li>Creates a bipartite subnetwork → therefore, only works with even number hop networks</li>
    <li>Computational inference (co-expression, Bayesian networks, etc.)</li>
  </ul>
  <div class="controls">
    <button id="prev4">Prev</button>
    <button id="next4">Next</button>
  </div>
</div>

<!-- UNAGI-->
<div class="slide" id="slide5">
  <h1>Introduction: UNAGI</h1>
  <p> </p>
  <div class="controls">
    <button id="prev5">Prev</button>
    <button id="next5">Next</button>
  </div>
</div>

<!-- Theorem 1-->
<div class="slide" id="slide6">
  <h1>Theorem 1</h1>
  <p><b>Theorem 1.</b> Any path <i>P<sub>b,c</sub></i> between nodes <i>b</i> and <i>c</i> in G contains a node <i>a</i> such that</p>
  <p style="text-align:center;">
    D<sub>a,b</sub> = D<sub>a,c</sub>,
  </p>
  <p>where D<sub>i,j</sub> represents the shortest unweighted graph distance between two nodes <i>i</i> and <i>j</i>.</p>

  <p>Since <i>b</i> and <i>c</i> are of the same node type in a bipartite network, <i>P<sub>b,c</sub></i> must contain an odd number of intermediate nodes and an even number of connecting edges:</p>
  <p style="text-align:center;">mod(D<sub>b,c</sub>, 2) = 0.</p>

  <p>Moreover, D<sub>b,c</sub> = D<sub>c,b</sub>.</p>

  <p>Traversing the first D<sub>b,c</sub>/2 edges in <i>P<sub>b,c</sub></i> starting at <i>b</i> gives a path <i>P<sub>b,x</sub></i> where <i>x ∉ {a,b}</i>. Traversing backwards along the last D<sub>b,c</sub>/2 edges starting at <i>c</i> gives a path <i>P<sub>c,y</sub></i> where <i>y ∉ {a,b}</i>.</p>

  <p>Thus,</p>
  <p style="text-align:center;">
    D<sub>b,x</sub> = D<sub>c,y</sub> = D<sub>b,c</sub>/2.
  </p>

  <p>If <i>x = y</i>, then <i>x</i> satisfies the condition for node <i>a</i>. Assume for contradiction that <i>x ≠ y</i>.</p>
  <p>Then either <i>x</i> is not connected to <i>y</i> or D<sub>x,y</sub> &gt; 0. Since <i>P<sub>b,c</sub></i> contains both <i>x</i> and <i>y</i>, some edges are missing, contradicting that it is a path.</p>

  <p>If D<sub>x,y</sub> &gt; 0, then</p>
  <p style="text-align:center;">
    D<sub>b,c</sub> = D<sub>b,x</sub> + D<sub>x,y</sub> + D<sub>c,y</sub> &gt; D<sub>b,x</sub> + D<sub>c,y</sub>.
  </p>

  <p>Substituting D<sub>b,x</sub> = D<sub>c,y</sub> = D<sub>b,c</sub>/2 yields</p>
  <p style="text-align:center;">
    D<sub>b,c</sub> &gt; D<sub>b,c</sub>/2 + D<sub>b,c</sub>/2,
  </p>
  <p>contradicting D<sub>b,c</sub> = D<sub>b,c</sub>.</p>

  <p>Hence <i>x = y</i>, so <i>x = a</i>, proving that D<sub>a,b</sub> = D<sub>a,c</sub>.</p>

  <div class="controls">
    <button id="prev6">Prev</button>
    <button id="next6">Next</button>
  </div>
</div>


<!-- Theorem 2-->
<div class="slide" id="slide7">
  <h1>Theorem 2</h1>
  <p><b>Theorem 2.</b> For any path <i>P<sub>b,c</sub></i> of length <i>n</i> between nodes <i>b</i> and <i>c</i> in <i>G</i>, and any integers <i>n<sub>b</sub>, n<sub>c</sub> ≥ 0</i> such that <i>n<sub>b</sub> + n<sub>c</sub> = n</i>, there exists a <u>unique</u> node <i>a</i> lying in <i>P<sub>b,c</sub></i> such that</p>
  
  <p style="text-align:center;">
    D<sub>a,b</sub> = n<sub>b</sub> &nbsp;&nbsp; and &nbsp;&nbsp; D<sub>a,c</sub> = n<sub>c</sub>,
  </p>
  
  <p>where D<sub>i,j</sub> represents the shortest unweighted graph distance between two nodes <i>i</i> and <i>j</i>.</p>
  
  <p><b>Case 1:</b> n<sub>b</sub> = 0. Then n<sub>c</sub> = n. Axiomatically, D<sub>b,b</sub> = 0 = n<sub>b</sub>. Further, D<sub>b,c</sub> = n = n<sub>c</sub>. Therefore, <i>b</i> satisfies the condition for node <i>a</i>.</p>
  
  <p><b>Case 2:</b> n<sub>c</sub> = 0. Then n<sub>b</sub> = n. Axiomatically, D<sub>c,c</sub> = 0 = n<sub>c</sub>. Further, D<sub>c,b</sub> = n = n<sub>b</sub>. Therefore, <i>c</i> satisfies the condition for node <i>a</i>.</p>
  
  <p><b>Case 3:</b> n<sub>b</sub>, n<sub>c</sub> &gt; 0. We have D<sub>b,c</sub> = D<sub>c,b</sub>.</p>
  
  <p>Traversing the first n<sub>b</sub> edges in <i>P<sub>b,c</sub></i> starting at <i>b</i> results in a path <i>P<sub>b,x</sub></i> where <i>x ∉ {a,b}</i>. Traversing backwards along the last n<sub>c</sub> edges starting at <i>c</i> results in a path <i>P<sub>c,y</sub></i> where <i>y ∉ {a,b}</i>.</p>
  
  <p>Therefore,</p>
  <p style="text-align:center;">
    D<sub>b,x</sub> = n<sub>b</sub> &nbsp;&nbsp; and &nbsp;&nbsp; D<sub>c,y</sub> = n<sub>c</sub>.
  </p>
  
  <p>If <i>x = y</i>, then <i>x</i> satisfies the condition for node <i>a</i>.</p>
  
  <p>Assume for contradiction that <i>x ≠ y</i>. Then either <i>x</i> is not connected to <i>y</i> or D<sub>x,y</sub> &gt; 0. Since <i>P<sub>b,c</sub></i> contains both <i>x</i> and <i>y</i>, not all edges in <i>P<sub>b,c</sub></i> are connected, contradicting its definition as a path.</p>
  
  <p>If D<sub>x,y</sub> &gt; 0, then</p>
  <p style="text-align:center;">
    D<sub>b,c</sub> = D<sub>b,x</sub> + D<sub>x,y</sub> + D<sub>c,y</sub> &gt; D<sub>b,x</sub> + D<sub>c,y</sub>.
  </p>
  
  <p>By definition of <i>P<sub>b,c</sub></i>, D<sub>b,c</sub> = n. Substituting D<sub>b,x</sub> = n<sub>b</sub> and D<sub>c,y</sub> = n<sub>c</sub> gives</p>
  
  <p style="text-align:center;">
    n &gt; n<sub>b</sub> + n<sub>c</sub> = n,
  </p>
  
  <p>a contradiction.</p>
  
  <p>Thus <i>x = y</i>, so <i>x = a</i>, proving that D<sub>a,b</sub> = n<sub>b</sub> and D<sub>a,c</sub> = n<sub>c</sub>.</p>
  
  <div class="controls">
    <button id="prev7">Prev</button>
    <button id="next7">Next</button>
  </div>
</div>


<!-- Validation -->
<div class="slide" id="slide8">
  <h1>Validation</h1>
  <ul>
    <li>BLOBFISH used the following tissues to validate the algorithm: 
      <i>Musculoskeletal, Artery, Skin, Lung, and Adipose</i>.
    </li>
    <li>We replicate this with UNAGI, initially creating <b>GGMs</b> (Gaussian Graphical Models), 
      which represent conditional dependencies between genes, and then generating 
      <b>Gene Correlation Networks</b>, which connect genes based on pairwise correlation in expression.
    </li>
    <li>Filtered the top and bottom 2.5% of the networks.</li>
    <li>Intentional use of varied tissues with significantly different functions to clearly validate algorithm functionality.</li>
    <li>Selected two tissue types: <b>Adipogenic</b> and <b>Skeletal-muscular</b>.</li>
    <li>Found the genes associated with these tissues, while treating other tissues as "noise."</li>
    <li>Verification step: genes associated with these tissues should not appear as "associated" with other tissues.</li>
  </ul>
  <div class="controls">
    <button id="prev8">Prev</button>
    <button id="next8">Next</button>
  </div>
</div>



<!-- Genes of Interest -->
<div class="slide" id="slide9">
  <h1>Genes of Interest</h1>
  <p> </p>
  <div class="controls">
    <button id="prev9">Prev</button>
    <button id="next9">Next</button>
  </div>
</div>

<!-- Overview of Tissues -->
<div class="slide" id="slide10">
  <h1>Overview of Tissues</h1>
  <p> </p>
  <div class="controls">
    <button id="prev10">Prev</button>
    <button id="next10">Next</button>
  </div>
</div>

<!-- Results -->
<div class="slide" id="slide11">
  <h1>Results</h1>
  <p> </p>
  <div class="controls">
    <button id="prev11">Prev</button>
    <button id="next11">Next</button>
  </div>
</div>

<!-- Interpretation -->
<div class="slide" id="slide12">
  <h1>Interpretation</h1>
  <p> </p>
  <div class="controls">
    <button id="prev12">Prev</button>
    <button id="next12">Next</button>
  </div>
</div>

<!-- Applications and Continued Work -->
<div class="slide" id="slide13">
  <h1>Applications and Continued Work</h1>
  <p> </p>
  <div class="controls">
    <button id="prev13">Prev</button>
    <button id="next13">Next</button>
  </div>
</div>

<!-- Acknowledgments -->
<div class="slide" id="slide14">
  <h1>Acknowledgments</h1>
  <p> </p>
  <div class="controls">
    <button id="prev14">Prev</button>
    <button id="next14">Next</button>
  </div>
</div>

<!-- Works Cited -->
<div class="slide" id="slide15">
  <h1>Works Cited</h1>
  <p> </p>
  <div class="controls">
    <button id="prev15">Prev</button>
  </div>
</div>

<script>
// ----------------------
// SLIDE LOGIC (Enhanced version)
// ----------------------
let currentSlide = 0;
const slides = document.querySelectorAll(".slide");
const totalSlides = slides.length;

function showSlide(n){
  // Handle wraparound
  if(n >= totalSlides) n = 0;
  if(n < 0) n = totalSlides - 1;
  
  slides[currentSlide].classList.remove("active");
  slides[n].classList.add("active");
  currentSlide = n;
}

// Enhanced button handling with better error checking
slides.forEach((slide,i)=>{
  const prev = slide.querySelector("#prev"+i);
  const next = slide.querySelector("#next"+i);
  if(prev) prev.addEventListener("click", ()=>showSlide(i-1));
  if(next) next.addEventListener("click", ()=>showSlide(i+1));
});

// Arrow key navigation
document.addEventListener("keydown",(e)=>{
  if(e.key==="ArrowRight") showSlide(currentSlide+1);
  if(e.key==="ArrowLeft") showSlide(currentSlide-1);
});

// ----------------------
// YOUR ORIGINAL NETWORK BACKGROUND
// ----------------------
const canvas = document.getElementById("network");
const ctx = canvas.getContext("2d");
let width, height;
let nodes = [];
const numNodes = 150; // number of dots

function resize(){
  width = window.innerWidth;
  height = window.innerHeight;
  canvas.width = width;
  canvas.height = height;
}
window.addEventListener("resize", resize);
resize();

function initNodes(){
  nodes = [];
  for(let i=0;i<numNodes;i++){
    nodes.push({
      x: Math.random()*width,
      y: Math.random()*height,
      vx: (Math.random()-0.5)*0.5,
      vy: (Math.random()-0.5)*0.5,
      r: 3 + Math.random()*3 // larger dots: 3–6
    });
  }
}
initNodes();

function draw(){
  ctx.clearRect(0,0,width,height);
  // edges
  for(let i=0;i<numNodes;i++){
    for(let j=i+1;j<numNodes;j++){
      const dx = nodes[i].x-nodes[j].x;
      const dy = nodes[i].y-nodes[j].y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      if(dist<120){
        ctx.strokeStyle = `rgba(111,177,160,${1-dist/120})`;
        ctx.lineWidth = 2; // thicker lines
        ctx.beginPath();
        ctx.moveTo(nodes[i].x,nodes[i].y);
        ctx.lineTo(nodes[j].x,nodes[j].y);
        ctx.stroke();
      }
    }
  }
  // nodes
  nodes.forEach(n=>{
    ctx.beginPath();
    ctx.arc(n.x,n.y,n.r,0,2*Math.PI);
    ctx.fillStyle = "#2a9d8f";
    ctx.fill();
  });
  update();
  requestAnimationFrame(draw);
}

function update(){
  nodes.forEach(n=>{
    n.x+=n.vx;
    n.y+=n.vy;
    if(n.x<0||n.x>width) n.vx*=-1;
    if(n.y<0||n.y>height) n.vy*=-1;
  });
}
draw();

// ----------------------
// SIDE MENU NAVIGATION
// ----------------------
document.querySelectorAll('#side-menu a').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const target = document.querySelector(link.getAttribute('href'));
    if(target) {
      const index = Array.from(slides).indexOf(target);
      if(index >= 0) showSlide(index);
    }
  });
});

// Toggle menu
const menuToggle = document.getElementById("menu-toggle");
const sideMenu = document.getElementById("side-menu");

menuToggle.addEventListener("click", () => {
  sideMenu.classList.toggle("open");
});

// Close menu when a link is clicked & go to slide
document.querySelectorAll('#side-menu a').forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const target = document.querySelector(link.getAttribute('href'));
    if(target){
      const index = Array.from(slides).indexOf(target);
      if(index >= 0) showSlide(index);
    }
    sideMenu.classList.remove("open"); // auto-close menu
  });
});
</script>
</body>
</html>
